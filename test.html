<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Recognition Example</title>
</head>
<body>
    <h1>Speech Recognition Example</h1>
    <button id="start-btn">Start Listening</button>
    <button id="stop-btn">Stop Listening</button>
    <p id="result"></p>

    <script>
        // Check if the browser supports the Web Speech API
window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

if ('SpeechRecognition' in window) {
    const recognition = new SpeechRecognition();
    const startBtn = document.getElementById('start-btn');
    const stopBtn = document.getElementById('stop-btn');
    const resultElement = document.getElementById('result');

    recognition.continuous = true; // Continue listening until stopped
    recognition.interimResults = true; // Show interim results

    // Start listening when the button is clicked
    startBtn.addEventListener('click', () => {
        recognition.start();
        resultElement.textContent = 'Listening...';
    });

    // Stop listening when the button is clicked
    stopBtn.addEventListener('click', () => {
        recognition.stop();
        resultElement.textContent = 'Stopped listening.';
    });

    // When the speech recognition service returns a result
    recognition.addEventListener('result', (event) => {
        let transcript = '';
        for (let i = 0; i < event.results.length; i++) {
            transcript += event.results[i][0].transcript;
        }
        resultElement.textContent = transcript;
    });

    // Error handling
    recognition.addEventListener('error', (event) => {
        resultElement.textContent = `Error: ${event.error}`;
    });
} else {
    // If the browser doesn't support the Web Speech API
    alert("Sorry, your browser doesn't support the Web Speech API.");
}
    </script>
</body>
</html>